---
source: src/eval/test.rs
description: "\nlet add = fn(x,y) {\n    let a = x + y;\n    let b = 12;\n    return fn() {\n        return a * b;\n    }\n};\n\nlet mult = add(2, 3);\n"
expression: "format!(\"{:#?}\\n\\n========================\\n\\n{:#?}\", env, diags)"
---
Environment {
    store: [
        (
            "add",
            Spanned(Function(2, Function(0, Unknown)), (1,4)->(1,7)),
        ),
        (
            "mult",
            Spanned(Function(0, Unknown), (9,4)->(9,8)),
        ),
    ],
    refs: [
        Spanned("add", "(1,4)->(1,7)"),
        Spanned("add", "(9,11)->(9,14)"),
        Spanned("mult", "(9,4)->(9,8)"),
    ],
    parent_id: None,
    children: [
        Environment {
            store: [
                (
                    "a",
                    Spanned(Unknown, (2,8)->(2,9)),
                ),
                (
                    "b",
                    Spanned(Int, (3,8)->(3,9)),
                ),
                (
                    "x",
                    Spanned(Unknown, (1,13)->(1,14)),
                ),
                (
                    "y",
                    Spanned(Unknown, (1,15)->(1,16)),
                ),
            ],
            refs: [
                Spanned("x", "(2,12)->(2,13)"),
                Spanned("y", "(2,16)->(2,17)"),
                Spanned("a", "(2,8)->(2,9)"),
                Spanned("b", "(3,8)->(3,9)"),
            ],
            parent_id: Some(
                "0",
            ),
            children: [
                Environment {
                    store: [],
                    refs: [
                        Spanned("a", "(5,15)->(5,16)"),
                        Spanned("b", "(5,19)->(5,20)"),
                    ],
                    parent_id: Some(
                        "1",
                    ),
                    children: [],
                    id: 2,
                },
            ],
            id: 1,
        },
    ],
    id: 0,
}

========================

[]
